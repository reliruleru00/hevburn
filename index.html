<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ヘブバン ダメージ計算機</title>
  <link rel="stylesheet" href="css/modal.css">
  <link rel="stylesheet" href="css/damege.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="js/chara_name.js"></script>
  <script src="js/chara_style.js"></script>
  <script src="js/damege.js"></script>
  <script src="js/skill_attack.js"></script>
  <script src="js/skill_buff.js"></script>
  <script src="js/enemy.js"></script>
  <script>


    var chara_no;
    var select_style_list = [0, 0, 0, 0, 0, 0];
    var status_kbn = ["", "str", "dex", "con", "mnd", "int", "luk"];
    var buff_kbn = ["power_up", "element_up", "mindeye", "defense_down", "element_down", "fragile", "critical_up", "critical_damege", "critical_element", "critical_damege_element"];

    $(function(){ 
      // スタイルリスト作成
      $.each(style_list, function(index, value) {
        let source = "icon/" + value.image_url;
        let style_id = value.style_id;
        let troops = value.troops;
        let physical = value.physical;
        let element = value.element;
        var input = $('<input>')
                    .attr("type", "image")
                    .attr("src", source)
                    .data("style_id", style_id)
                    .addClass("select_style")
                    .addClass("physical_" + physical)
                    .addClass("element_" + element);
        $("#sytle_list_" + troops).append(input);
      });

      $(".lv").prop("disabled", true);
      $("input[type='number']").prop("step", 1);
      $(".status").prop("max", 999);
      $(".status").prop("min", 1);
      $(".status").prop("disabled", true);
      $(".jewel").prop("max", 5);
      $(".jewel").prop("min", 0);
      $(".jewel").prop("disabled", true);

      createEnemyList("1");
      $("#enemy_class").on("change", function(event) {
        let enemy_class = $("#enemy_class option:selected").val();
        createEnemyList(enemy_class);
      })
      $("#enemy_list").on("change", function(event) {
        setEnemyStatus();
      })

      // 計算
      $("#calc").on("click", function(event) {
        var basePower = getBasePower();
        var buff = getBuff();
        var debuff = getDebuff();
        var critical = 1;
        var ability = 1;
        var filed = 1;
        var weak_physical = 1;
        var weak_element = 1;
        var special_dp = 1;
        var special_hp = 1;
        var destruction_rate = Number($("#enemy_destruction").val()) / 100;
        var damage = Math.floor(basePower * buff * debuff * critical * ability * filed * weak_physical * weak_element * special_dp * special_hp);
        $("#damage").val(damage);
      })
      
      // スキル変更
      $("#attack_list").on("change", function(event) {
        let max_lv = $("#attack_list option:selected").data("max_lv");
        createSkillLvList("skill_lv", max_lv, max_lv);
      })
      // ステータス変更

      // モーダルを開く
      $('.showmodal').on('click', function(){
        chara_no = $(this).data("chara_no");
        $('.ModalLayer').addClass('isShow');
      });

      // スタイル絞り込み
      $(".narrow").on('click', function() {
        let id = $(this).attr("id");
        let select = $(this).data("select");
        if (select == "1") {
          $(this).css('opacity', '0.3');
          $(this).data("select", "0");
          $("." + id).hide();
        } else {
          let isPhysical = $(this).hasClass("physical");
          let isElement = $(this).hasClass("element");
          $(this).css('opacity', '1');
          $(this).data("select", "1");
          if (isPhysical) {
            $(".element").each(function(index, value) {
              if ($(value).data("select") == "1") {
                let element_id = $(value).attr("id");
                $("." + id + "." + element_id).show();
              }
            });
          } else if (isElement) {
            $(".physical").each(function(index, value) {
              if ($(value).data("select") == "1") {
                let physical_id = $(value).attr("id");
                $("." + id + "." + physical_id).show();
              }
            });
          }
        }
      })

      // スタイルを選択
      $('.select_style').on('click', function(){
        let style_id = $(this).data("style_id");
        let style = $.grep(style_list,
          function (obj, index) {
            return (obj.style_id === style_id);
          })[0];
        // 同一のキャラIDは不許可
        for(let idx in select_style_list) {
          if (select_style_list[idx].chara_id === style.chara_id && chara_no != idx) {
            alert("同一キャラクターは複数選択できません");
            return false;
          }
        }
        let replace_style = select_style_list[chara_no];
        // 入れ替えスタイルのスキルを削除
        $(".chara_id-" + replace_style.chara_id).remove();
        
        select_style_list[chara_no] = style;
        $('[data-chara_no="' + chara_no + '"]').attr("src", "icon/" + style.image_url);

        // ステータス一覧を作成

        $("#jewel_type_" + chara_no).val(style.jewel_type);

        addAttackList(style, chara_no);
        addBuffList(style, chara_no);

        closeModel();
      });
      // モーダルを閉じる
      $('.close_modal').on('click', function(){
        closeModel();
      });
    });

    function updateStatusList(chara_no) {
      $
    }

    function closeModel() {
      chara_no = 0;
      $('.ModalLayer').removeClass('isShow');
    }

    function addAttackList(style, chara_no) {
      let attack_list = $.grep(skill_attack,
          function (obj, index) {
            return (obj.chara_id === style.chara_id && (obj.style_id === style.style_id || obj.style_id == 0));
          });
      $.each(attack_list, function(index2, value) {
        var option = $('<option>')
                    .text(value.attack_name)
                    .val(value.attack_id)
                    .data("max_lv", value.max_lv)
                    .data("chara_no", chara_no)
                    .addClass("chara_id-" + value.chara_id);
        $("#attack_list").append(option);
        $('attack_list').eq(1).prop('selected', true);
      });

      let max_lv = $("#attack_list option:selected").data("max_lv");
      createSkillLvList("skill_lv", max_lv, max_lv);
    }

    function createSkillLvList(id, max_lv, select_lv) {
      var selecter = "#" + id;
      $(selecter).html("");
      for (var i = 1; i <= max_lv; i ++) {
        var option = $('<option>')
                      .text(i)
                      .val(i);
        $(selecter).append(option);
      }
      $(selecter + " option[value='" + select_lv + "']").prop('selected', true);
      if (max_lv == 1) {
        $(selecter).prop("disabled", true);
      } else {
        $(selecter).prop("disabled", false);
      }
    }

    function addBuffList(style, chara_no) {
      // スキル追加
      let buff_list = $.grep(skill_buff,
        function (obj, index) {
          return (obj.chara_id === style.chara_id && (obj.style_id === style.style_id || obj.style_id == 0));
        });
      $.each(buff_list, function(index, value) {
        let effectSize = 0;
        if (value.buff_kind <= 2) {
          effectSize = Math.floor(getBuffEffectSize(value.buff_id, chara_no, value.max_lv) * 100) / 100;
        } else if (value.buff_kind <= 6) {
          effectSize = Math.floor(getDebuffEffectSize(value.buff_id, chara_no, value.max_lv) * 100) / 100;
        }
        let str_buff = buff_kbn[value.buff_kind];
        var option = $('<option>')
                    .text(chara_name[style.chara_id] + "：" + value.buff_name + "　" + effectSize + "%")
                    .val(value.buff_id)
                    .data("max_lv", value.max_lv)
                    .data("select_lv", value.max_lv)
                    .data("chara_no", chara_no)
                    .data("effectSize", effectSize)
                    .addClass("chara_id-" + value.chara_id);
        $("." + str_buff).append(option);
        createSkillLvList(str_buff + "1_lv", value.max_lv, value.max_lv);
        createSkillLvList(str_buff + "2_lv", value.max_lv, value.max_lv);
        sortEffectSize($("#" + str_buff + "1"));
        sortEffectSize($("#" + str_buff + "2"));
      });
    }

    // バフ合計取得
    function getBuff() {
      let multiplier = 1;
      let power_up = 0;
      let element_up = 0;
      let mindeye = 0;
      $(".buff").each(function(index, value) {
        let selected = $(value).find("option:selected");
        if (selected.val() == "") {
          return true;
        }
        let buff_id = Number(selected.val());
        let skill_lv = Number(selected.data("max_lv"));
        let chara_no = selected.data("chara_no");
        effect_size = getBuffEffectSize(buff_id, chara_no, skill_lv);
        // バフ分類
        if ($(value).hasClass("power_up")) {
          power_up += effect_size;
        } else if ($(value).hasClass("element_up")) {
          element_up += effect_size;
        } else if ($(value).hasClass("mindeye")) {
          mindeye += effect_size;
        }
      });
      multiplier *= (1 + power_up / 100) * (1 + element_up / 100) * (1 + mindeye / 100);
      return multiplier;
    }

    // デバフ合計取得
    function getDebuff() {
      let multiplier = 1;
      let defense_down = 0;
      let element_down = 0;
      let fragile = 0;
      $(".debuff").each(function(index, value) {
        let selected = $(value).find("option:selected");
        if (selected.val() == "") {
          return true;
        }
        let buff_id = Number(selected.val());
        let skill_lv = Number(selected.data("max_lv"));
        let chara_no = selected.data("chara_no");
        effect_size = getDebuffEffectSize(buff_id, chara_no, skill_lv);
        // バフ分類
        if ($(value).hasClass("defense_down")) {
          defense_down += effect_size;
        } else if ($(value).hasClass("element_down")) {
          element_down += effect_size;
        } else if ($(value).hasClass("fragile")) {
          fragile += effect_size;
        }
      });
      multiplier *= (1 + defense_down / 100) * (1 + element_down / 100) * (1 + fragile / 100);
      return multiplier;
    }

  </script>
</head>
<body>
  <header>
    <h1>ヘブバン ダメージ計算機</h1>
  </header>
  <br>
  <div>
    <!-- <div class="w-[1080px] mx-auto bg-amber-100 flex"> -->
    <div class="w-[1080px] mx-auto flex">
        <div>
        <div id="char_list" class="w-[500px] grid grid-cols-7 text-center">
          <div>
            <label>キャラクター</label>
            <input type="hidden" id="jewel_type_0" value="">
            <input type="hidden" id="jewel_type_1" value="">
            <input type="hidden" id="jewel_type_2" value="">
            <input type="hidden" id="jewel_type_3" value="">
            <input type="hidden" id="jewel_type_4" value="">
            <input type="hidden" id="jewel_type_5" value="">
          </div>
          <img class="showmodal w-16 h-16" id="chara0" src="img/plus.png" data-chara_no="0">
          <img class="showmodal w-16 h-16" id="chara1" src="img/plus.png" data-chara_no="1">
          <img class="showmodal w-16 h-16" id="chara2" src="img/plus.png" data-chara_no="2">
          <img class="showmodal w-16 h-16" id="chara3" src="img/plus.png" data-chara_no="3">
          <img class="showmodal w-16 h-16" id="chara4" src="img/plus.png" data-chara_no="4">
          <img class="showmodal w-16 h-16" id="chara5" src="img/plus.png" data-chara_no="5">
          <label>凸数</label>
          <input type="number" id="convex_0" value="2">
          <input type="number" id="convex_1" value="2">
          <input type="number" id="convex_2" value="2">
          <input type="number" id="convex_3" value="2">
          <input type="number" id="convex_4" value="2">
          <input type="number" id="convex_5" value="2">
          <label>力</label>
          <input type="number" id="str_0" class="status" value="400">
          <input type="number" id="str_1" class="status" value="400">
          <input type="number" id="str_2" class="status" value="400">
          <input type="number" id="str_3" class="status" value="400">
          <input type="number" id="str_4" class="status" value="400">
          <input type="number" id="str_5" class="status" value="400">
          <label>器用さ</label>
          <input type="number" id="dex_0" class="status" value="400">
          <input type="number" id="dex_1" class="status" value="400">
          <input type="number" id="dex_2" class="status" value="400">
          <input type="number" id="dex_3" class="status" value="400">
          <input type="number" id="dex_4" class="status" value="400">
          <input type="number" id="dex_5" class="status" value="400">
          <label>体力</label>
          <input type="number" id="con_0" class="status" value="400">
          <input type="number" id="con_1" class="status" value="400">
          <input type="number" id="con_2" class="status" value="400">
          <input type="number" id="con_3" class="status" value="400">
          <input type="number" id="con_4" class="status" value="400">
          <input type="number" id="con_5" class="status" value="400">
          <label>精神</label>
          <input type="number" id="mnd_0" class="status" value="400">
          <input type="number" id="mnd_1" class="status" value="400">
          <input type="number" id="mnd_2" class="status" value="400">
          <input type="number" id="mnd_3" class="status" value="400">
          <input type="number" id="mnd_4" class="status" value="400">
          <input type="number" id="mnd_5" class="status" value="400">
          <label>知力</label>
          <input type="number" id="int_0" class="status" value="400">
          <input type="number" id="int_1" class="status" value="400">
          <input type="number" id="int_2" class="status" value="400">
          <input type="number" id="int_3" class="status" value="400">
          <input type="number" id="int_4" class="status" value="400">
          <input type="number" id="int_5" class="status" value="400">
          <label>運</label>
          <input type="number" id="luk_0" class="status" value="400">
          <input type="number" id="luk_1" class="status" value="400">
          <input type="number" id="luk_2" class="status" value="400">
          <input type="number" id="luk_3" class="status" value="400">
          <input type="number" id="luk_4" class="status" value="400">
          <input type="number" id="luk_5" class="status" value="400">
          <label>宝珠Lv</label>
          <input type="number" id="jewel_lv_0" class="jewel" value="5">
          <input type="number" id="jewel_lv_1" class="jewel" value="5">
          <input type="number" id="jewel_lv_2" class="jewel" value="5">
          <input type="number" id="jewel_lv_3" class="jewel" value="5">
          <input type="number" id="jewel_lv_4" class="jewel" value="5">
          <input type="number" id="jewel_lv_5" class="jewel" value="5">
        </div>
        <br>
        <div class="w-96 mx-auto flex">
          攻撃スキル
          <select id="attack_list" class="w-60">
          </select>
          Lv
          <select id="skill_lv" class="lv">
          </select>
        </div>
        <br>
        <div class="w-96 mx-auto">
          <div>
            <label>敵選択</label>
            <select id="enemy_class">
              <option value="1">異時層</option>
              <option value="2">オーブボス</option>
            </select>
            <select id="enemy_list">
            </select>
          </div>
          <br>
          <div class="grid grid-cols-7">
            <div class="text-right">能力値</div><input type="text" id="enemy_stat" value="" disabled class="w-8 text-right">
            <div class="col-span-2 text-right">破壊率上限</div><input type="text" id="enemy_destruction_limit" value="" disabled class="w-8 text-right">
            <div class="text-right">破壊率</div><input type="number" id="enemy_destruction" value="" class="w-8 text-right">
            <div class="text-right">DP</div><input type="text" id="enemy_dp" value="" disabled class="col-span-2 w-20 text-right">
            <div class="text-right">HP</div><input type="text" id="enemy_hp" value="" disabled class="col-span-2 w-20 text-right">
          </div>
          <br>
          <div class="grid grid-cols-9">
            <input type="image" class="w-8 h-8 ml-1.5" src="img/Slash.webp">
            <input type="image" class="w-8 h-8 ml-1.5" src="img/Stab.webp">
            <input type="image" class="w-8 h-8 ml-1.5" src="img/Strike.webp">
            <input type="image" class="w-8 h-8 ml-1.5" src="img/Nonelement.webp">
            <input type="image" class="w-8 h-8 ml-1.5" src="img/Fire.webp">
            <input type="image" class="w-8 h-8 ml-1.5" src="img/Ice.webp">
            <input type="image" class="w-8 h-8 ml-1.5" src="img/Thunder.webp">
            <input type="image" class="w-8 h-8 ml-1.5" src="img/Light.webp">
            <input type="image" class="w-8 h-8 ml-1.5" src="img/Dark.webp">
            <input type="text" id="enemy_physical_1" class="text-center" disabled>
            <input type="text" id="enemy_physical_2" class="text-center" disabled>
            <input type="text" id="enemy_physical_3" class="text-center"disabled>
            <input type="text" id="enemy_element_0" class="text-center" disabled>
            <input type="text" id="enemy_element_1" class="text-center" disabled>
            <input type="text" id="enemy_element_2" class="text-center" disabled>
            <input type="text" id="enemy_element_3" class="text-center" disabled>
            <input type="text" id="enemy_element_4" class="text-center" disabled>
            <input type="text" id="enemy_element_5" class="text-center" disabled>
          </div>
        </div>
        <br>
        <div class="w-64 mx-auto text-center">
          <input type="button" id="calc" href="javascript:void(0)" class="btn" value="計 算">
        </div>
        <br>
        <div class="w-64 mx-auto text-center">
          <label>ダメージ</label>
          <input type="text" id="damage" value="">
        </div>
      </div>
      <div>
        <div class="mx-auto text-center">
          <table>
            <colgroup>
              <col width="80px">
              <col width="100px">
              <col width="300px">
              <col width="65px">
            </colgroup>
            <tr>
              <td rowspan="6" class="kind">バフ</td>
              <td class="type">攻撃力アップ1</td>
              <td><select id="power_up1" class="buff power_up"><option selected value="">無し</option></select></td>
              <td>Lv<select id="power_up1_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">攻撃力アップ2</td>
              <td><select id="power_up2" class="buff power_up"><option selected value="">無し</option></select></td>
              <td>Lv<select id="power_up2_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">属性攻撃力アップ1</td>
              <td><select id="element_up1" class="buff element_up"><option selected value="">無し</option></select></td>
              <td>Lv<select id="element_up1_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">属性攻撃力アップ2</td>
              <td><select id="element_up2" class="buff element_up"><option selected value="">無し</option></select></td>
              <td>Lv<select id="element_up1_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">心眼1</td>
              <td><select id="mindeye1" class="buff mindeye"><option selected value="">無し</option></select></td>
              <td>Lv<select id="mindeye1_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">心眼2</td>
              <td><select id="mindeye2" class="buff mindeye"><option selected value="">無し</option></select></td>
              <td>Lv<select id="mindeye2_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td rowspan="6" class="kind">デバフ</td>
              <td class="type">防御力ダウン1</td>
              <td><select id="defense_down1" class="debuff defense_down"><option selected value="">無し</option></select></td>
              <td>Lv<select id="defense_down1_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">防御力ダウン2</td>
              <td><select id="defense_down2" class="debuff defense_down"><option selected value="">無し</option></select></td>
              <td>Lv<select id="defense_down2_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">属性防御力ダウン1</td>
              <td><select id="element_down1" class="debuff element_down"><option selected value="">無し</option></select></td>
              <td>Lv<select id="defense_down1_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">属性防御力ダウン2</td>
              <td><select id="element_down2" class="debuff element_down"><option selected value="">無し</option></select></td>
              <td>Lv<select id="defense_down2_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">脆弱1</td>
              <td><select id="fragile1" class="debuff fragile"><option selected value="">無し</option></select></td>
              <td>Lv<select id="fragile1_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">脆弱2</td>
              <td><select id="fragile2" class="debuff fragile"><option selected value="">無し</option></select></td>
              <td>Lv<select id="fragile2_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td rowspan="8" class="kind">クリティカル</td>
              <td>クリティカル率アップ1</td>
              <td><select id="critical_up1" class="buff critical_up"><option selected value="">無し</option></select></td>
              <td>Lv<select id="critical_up1_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">クリティカル率アップ2</td>
              <td><select id="critical_up2" class="buff critical_up"><option selected value="">無し</option></select></td>
              <td>Lv<select id="critical_up2_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">クリダメアップ1</td>
              <td><select id="critical_damege1" class="buff critical_damege"><option selected value="">無し</option></select></td>
              <td>Lv<select id="critical_damege1_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">クリダメアップ2</td>
              <td><select id="critical_damege2" class="buff critical_damege"><option selected value="">無し</option></select></td>
              <td>Lv<select id="critical_damege2_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">属性クリ率アップ1</td>
              <td><select id="critical_element1" class="buff critical_element"><option selected value="">無し</option></select></td>
              <td>Lv<select id="critical_element1_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">属性クリ率アップ2</td>
              <td><select id="critical_element2" class="buff critical_element"><option selected value="">無し</option></select></td>
              <td>Lv<select id="critical_element2_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">属性クリダメアップ1</td>
              <td><select id="critical_damege_element1" class="buff critical_damege_element"><option selected value="">無し</option></select></td>
              <td>Lv<select id="critical_damege_element1_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td class="type">属性クリダメアップ2</td>
              <td><select id="critical_damege_element2" class="buff critical_damege_element"><option selected value="">無し</option></select></td>
              <td>Lv<select id="critical_damege_element2_lv" class="lv"></select></td>
            </tr>
            <tr>
              <td rowspan="6" class="kind">フィールド</td>
              <td class="type">属性フィールド</td>
              <td><select id="filed" class="debuff filed"><option selected value="">無し</option></select></td>
              <td id="filed_lv"></td>
            </tr>
          </table>
        </div>
      </div>
    </div>
  </div>
  <div class="ModalLayer">
    <div class="ModalLayer-Mask"></div>
    <div class="modal-layer-inner">
      <div class="ModalSection">
        <div class="Modal">
          <div class="modal-inner">
            <div class="modal-inner-headline">
              スタイル選択
            </div>
            <div>
              <input type="image" class="narrow physical" id="physical_1" src="img/Slash.webp" data-select="1">
              <input type="image" class="narrow physical" id="physical_2" src="img/Stab.webp" data-select="1">
              <input type="image" class="narrow physical" id="physical_3" src="img/Strike.webp" data-select="1">
              <input type="image" class="narrow element" id="element_0" src="img/Nonelement.webp" data-select="1">
              <input type="image" class="narrow element" id="element_1" src="img/Fire.webp" data-select="1">
              <input type="image" class="narrow element" id="element_2" src="img/Ice.webp" data-select="1">
              <input type="image" class="narrow element" id="element_3" src="img/Thunder.webp" data-select="1">
              <input type="image" class="narrow element" id="element_4" src="img/Light.webp" data-select="1">
              <input type="image" class="narrow element" id="element_5" src="img/Dark.webp" data-select="1">
            </div>
            <div class="troops">
              <input type="image" class="emblem" src="img/31a.webp">
              <div id="sytle_list_31A" class="grid grid-cols-8 troops_31A"></div>
            </div>
            <div class="troops">
              <input type="image" class="emblem" src="img/31b.webp">
              <div id="sytle_list_31B" class="grid grid-cols-8 troops_31B"></div>
            </div>
            <div class="troops">
              <input type="image" class="emblem" src="img/31c.webp">
              <div id="sytle_list_31C" class="grid grid-cols-8 troops_31C"></div>
            </div>
            <div class="troops">
              <input type="image" class="emblem" src="img/31d.webp">
              <div id="sytle_list_31D" class="grid grid-cols-8 troops_31D"></div>
            </div>
            <div class="troops">
              <input type="image" class="emblem" src="img/31e.webp">
              <div id="sytle_list_31E" class="grid grid-cols-8 troops_31E"></div>
            </div>
            <div class="troops">
              <input type="image" class="emblem" src="img/31f.webp">
              <div id="sytle_list_31F" class="grid grid-cols-8 troops_31F"></div>
            </div>
            <div class="troops">
              <input type="image" class="emblem" src="img/31x.webp">
              <div id="sytle_list_31X" class="grid grid-cols-8 troops_31X"></div>
            </div>
            <div class="troops">
              <input type="image" class="emblem" src="img/30g.webp">
              <div id="sytle_list_30G" class="grid grid-cols-8 troops_30G"></div>
            </div>
            <div class="troops">
              <input type="image" class="emblem" src="img/angelbeats.webp">
              <div id="sytle_list_AB" class="grid grid-cols-8  troops_AB"></div>
            </div>
          </div>
          <br>
          <div class="w-64 mx-auto text-center">
            <input type="button" id="calc" href="javascript:void(0)" class="btn close_modal" value="閉じる">
          </div>
          <br>
        </div>
      </div>
    </div>
  </div>
  <footer>
  </footer>
</body>
</html>
