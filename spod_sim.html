<!DOCTYPE html>
<html>

<head>
  <!-- Searvh Console -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1145880808347586"
    crossorigin="anonymous"></script>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-N7FD0VTLNH"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-N7FD0VTLNH');
  </script>
  <meta charset="utf-8">
  <meta content="ヘブンバーンズレッドのOD/SPシミュレーションツールです。" name="description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@RELI_hevburn" />
  <meta name="twitter:title" content="ヘブバン OD/SPシミュレーション" />
  <meta name="twitter:description" content="ヘブンバーンズレッドのOD/SPシミュレーションツールです。" />
  <meta name="twitter:image" content="https://www.hbr-tool.com/img/summary_card_sim.png" />
  <title>ヘブバン OD/SPシミュレーション</title>
  <link rel="stylesheet" href="css/header.css">
  <link rel="stylesheet" href="css/common.css">
  <link rel="stylesheet" href="css/modal.css">
  <link rel="stylesheet" href="css/micromodal.css">
  <link rel="stylesheet" href="css/spod_sim.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://unpkg.com/micromodal/dist/micromodal.min.js"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@hello-pangea/dnd@17.0.0/dist/dnd.min.js"></script>
  <script src="js/header.js"></script>
  <script src="js/common.js"></script>
  <script src="js/const.js"></script>
  <script src="js/chara_data.js"></script>
  <script src="js/chara_style.js"></script>
  <script src="js/modal.js"></script>
  <script src="js/spod_sim.js"></script>
  <script src="js/skill_list.js"></script>
  <script src="js/skill_attack.js"></script>
  <script src="js/skill_buff.js"></script>
  <script src="js/skill_passive.js"></script>
  <script src="js/enemy.js"></script>
  <script src="js/ability.js"></script>
  <script type="text/babel" src="js/component/modal_style_section.js"></script>
  <script type="text/babel" src="js/component/style_list.js"></script>
  <script type="text/babel" src="js/component/enemy_list.js"></script>
  <script type="text/babel" src="js/component/spod/chara_setting.js"></script>
  <script type="text/babel" src="js/component/spod/enemy_area.js"></script>
  <script type="text/babel" src="js/component/spod/battle_area.js"></script>
  <script type="text/babel" src="js/component/spod/turn_data.js"></script>
  <script type="text/babel" src="js/component/spod/over_drive_gauge.js"></script>
  <script type="text/babel" src="js/component/spod/modal_target_selection.js"></script>
  <script type="text/babel" src="js/component/spod/modal_effcet_selection.js"></script>
  <script type="text/babel" src="js/component/spod/modal_buff_detail_list.js"></script>
  <script type="text/babel" src="js/component/spod/modal_skill_select_list.js"></script>
  <script type="text/babel" src="js/component/spod/unit_component.js"></script>
  <script type="text/babel" src="js/component/spod/buff_icon_component.js"></script>
  <script>
    let chara_no = -1;
    $(function () {
      // スタイルリスト読み込み
      select_troops = select_troops ? select_troops : 0;
      loadTroopsList(select_style_list, select_troops);

      // 上書き確認
      let is_overwrite = localStorage.getItem("is_overwrite");
      is_overwrite = is_overwrite ? is_overwrite : "true";
      $("#is_overwrite").prop("checked", is_overwrite === "true");

      // イベント設定
      setEventTrigger();

      // MicroModal初期化
      MicroModal.init({
        disableScroll: true,
        disableFocus: true,
        awaitOpenAnimation: true,
        awaitCloseAnimation: true
      });
      let handleModalResult = null;
    });

  </script>
</head>

<body>
  <main>
    <div class="header"></div>
    <div class="frame w-screen pt-3 overflow-y-scroll border-b">
      <div class="display_area mx-auto">
        <input type="button" data-micromodal-trigger="modal_explanation" role="button" value="注意事項" class="w-20">
        <div id="chara_setting" class="grid grid-cols-7 text-center gap-y-px gap-x-0"></div>
      </div>
      <div id="enemy_area" class="surround_area mx-auto mt-2 adjust_width">読み込み中</div>
      <div class="setup_area mx-auto mt-2 w-[400px] text-sm">
        <ui>
          <li>
            <label>バトル開始時</label>
            <div class="ml-4">
              フィールド<select id="init_field">
                <option value="0" selected>無し</option>
                <option value="1">火</option>
                <option value="2">氷</option>
                <option value="3">雷</option>
                <option value="4">光</option>
                <option value="5">闇</option>
                <option value="6">稲穂</option>
                <option value="7">砂嵐</option>
              </select>
              OverDriveGauge<input type="number" max="300" min="0" step="0.01" class="step_od_gauge w-[70px]" value="0"
                id="init_over_drive">
              SP＋<input type="number" max="20" min="0" step="1" class="step_sp" value="0" id="init_sp_add">
            </div>
          </li>
          <li>
            <label>毎ターン</label>
            前衛のSP+
            <select class="step_sp" id="front_sp_add">
              <option value="0" selected>0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
            </select>
            後衛のSP+
            <select class="step_sp" id="back_sp_add">
              <option value="0" selected>0</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
            </select>
          </li>
          <li>
            <select class="h-[25px]" id="step_turn">
              <option value="1" selected>1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
            </select>
            ターンごとに OverDriveGauge
            <select class="step_od_gauge w-[60px]" id="step_over_drive_down">
              <option value="0" selected>0%</option>
              <option value="-5">-5%</option>
              <option value="-10">-10%</option>
              <option value="-15">-15%</option>
            </select>
            SP
            <select class="step_sp" id="step_sp_down">
              <option value="0" selected>0</option>
              <option value="-1">-1</option>
              <option value="-2">-2</option>
              <option value="-3">-3</option>
            </select>
          </li>
        </ui>
      </div>
      <div class="mx-auto w-[240px] mt-2 text-sm">
        <input type="checkbox" id="is_overwrite"><label class="checkbox01 text-sm" for="is_overwrite">上書き確認</label>
        <input type="button" class="battle_start" value="戦闘開始">
      </div>
      <div id="battle_area"></div>
    </div>
    <div class="modal micromodal-slide" id="modal_style_section" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container container_style" role="dialog" aria-modal="true" aria-labelledby="modal_section">
          <div id="modal_section" class="modal_section"></div>
        </div>
      </div>
    </div>
    <div class="modal micromodal-slide" id="modal_target_selection" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container container_damage" role="dialog" aria-modal="true" aria-labelledby="target_selection">
          <div id="target_selection" aria-hidden="true" className="modal text-left min-w-[300px] mx-auto"></div>
        </div>
      </div>
    </div>
    <div class="modal micromodal-slide" id="modal_effect_selection" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container container_damage" role="dialog" aria-modal="true" aria-labelledby="effect_selection">
          <div id="effect_selection" aria-hidden="true" class="modal text-left min-w-[300px] mx-auto"></div>
        </div>
      </div>
    </div>
    <div class="modal micromodal-slide" id="modal_explanation" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container container_damage" role="dialog" aria-modal="true"
          aria-labelledby="modal_explanation">
          <div id="modal_explanation" aria-hidden="true" class="modal text-left w-[380px] mx-auto mt-2">
            <div class="mb-4">
              <label class="modal_label">注意事項</label>
            </div>
            <div>
              <p>本ツールはヘブバンのSP、ODのシミュレーションツールです。</p>
              <br>
              <p><b>操作方法</b></p>
              <p><b>1.スタイル選択</b></p>
              <p>クリック(タップ)でスタイル選択画面でスタイルを選択します。</p>
              <p>選択したスタイルは、ドラッグ(スワイプ)で入れ替え出来ます。</p>
              <p><b>2.戦闘開始</b></p>
              <p>初期設定を行ったら戦闘開始ボタンで開始します。</p>
              <p>キャラクター同士の入れ替えは、スタイルを選択して入れ替えます（ゲーム内準拠）</p>
              <p><b>3.オーバードライブ</b></p>
              <p>オーバードライブゲージが100%以上ある場合は、「OD発動」ボタンが追加されます。</p>
              <p>行動後にゲージが100％以上ある場合、「行動開始+OD」が追加されます。</p>
              <br>
              <p>SPとODに関連するスキル、アビリティのデータは追加してありますが、現在、以下のスキル、アビリティに制約がかかっています。</p>
              <p>・怪盗乱麻：SP上昇効果なし</p>
              <p>・激動：SP上昇効果なし</p>
              <p>・友縁の剣：SP上昇効果なし</p>
              <p>・福音：常に発動します(OD上昇10%)</p>
              <p>・究極のスリル：常に発動します(OD上昇10%)</p>
              <p>以下のスキル/アビリティは発動条件をシミュレート出来ないため、SPに「＋」として表示しています。</p>
              <p>・吉報：確率30%</p>
              <p>・旺盛：DP101%以上</p>
              <p>・痛気持ちいぃ～！：被ダメージ</p>
              <img src="img/sp_add.png">
            </div>
            <div class="mt-4">
              <p>補助機能として、以下のデバフの表示を行っています。</p>
              <h4>■味方</h4>
              <p>・攻撃力上昇/属性攻撃力上昇</p>
              <p>・心眼</p>
              <p>・クリティカル率/属性クリティカル率アップ</p>
              <p>・クリティカルダメージ/属性クリティカルダメージアップ</p>
              <p>・チャージ</p>
              <p>・連撃</p>
              <p>・行動不能</p>
              <p>・(全体)挑発</p>
              <p>・バフ/デバフ強化</p>
              <p>・桜花の矢</p>
              <p>・永遠の誓い</p>
              <p>・EXスキル連続使用</p>
              <p>・オギャり</p>
              <p>・士気</p>
              <p>・歌姫の加護</p>
              <p>・速弾き</p>
              <h4>■敵</h4>
              <p>・DP防御力/防御力/属性防御力ダウン</p>
              <p>・脆弱</p>
              <p>・耐性ダウン</p>
              <p>・永続防御力/永続属性防御力ダウン</p>
              <h4>■アビリティ</h4>
              <p>・狂乱の型</p>
              <p>・五月雨</p>
              <p>・徒桜の一矢</p>
            </div>
            <div class="mt-1 mx-auto text-right">
              <a href="https://marshmallow-qa.com/ldboixq5xyndo94" class="text-blue-500 underline">不具合/要望受付フォーム</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal micromodal-slide" id="modal_skill_select_list" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container container_damage" role="dialog" aria-modal="true" aria-labelledby="skill_select_list">
          <div id="skill_select_list" aria-hidden="true" class="modal text-left min-w-[300px] mx-auto"></div>
        </div>
      </div>
    </div>
    <div class="modal micromodal-slide" id="modal_buff_detail_list" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container container_damage" role="dialog" aria-modal="true"
          aria-labelledby="buff_detail_list">
          <div id="buff_detail_list" aria-hidden="true" class="modal text-left min-w-[300px] mx-auto"></div>
        </div>
      </div>
    </div>
  </main>
</body>

</html>